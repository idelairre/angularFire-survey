webpackJsonp([0],{0:function(n,exports,e){e(1),n.exports=e(298)},298:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}var a=e(299),o=t(a),r=e(301),i=(t(r),e(302)),l=t(i),s=e(323),u=t(s),d=e(324),c=t(d),p=e(325),f=t(p);e(304),e(326),e(328),e(330),e(332),e(333),o["default"].module("pollingApp",["xeditable","ngAnimate","ngSanitize","ui.bootstrap",f["default"],l["default"],c["default"]]).config(u["default"]).run(["$rootScope","$location","Auth",function(n,e,t){t.$onAuthStateChanged(function(e){n.authData=e}),n.logout=function(){t.$signOut(),e.path("/survey")},n.$on("$routeChangeError",function(n,t,a,o){"AUTH_REQUIRED"===o&&e.path("/survey")})}]).run(function(n){n.theme="bs3"})},301:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=o["default"].module("pollingApp.directives",["ngRoute"]).directive("btnRadio",[function(){var n="active",e="click";return{require:"ngModel",link:function(t,a,r,i){i.$render=function(){a.toggleClass(n,o["default"].equals(i.$modelValue,t.$eval(r.btnRadio)))},a.bind(e,function(){a.hasClass(n)||t.$apply(function(){i.$setViewValue(t.$eval(r.btnRadio)),i.$render()})})}}}]);exports["default"]=r},302:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=e(303),i=t(r),l=e(311),s=t(l),u=e(313),d=t(u),c=e(316),p=t(c),f=e(318),m=t(f),g=e(321),b=t(g),v=o["default"].module("components",[i["default"],s["default"],d["default"],p["default"],m["default"],b["default"]]).name;exports["default"]=v},303:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=e(304),i=t(r);e(306);var l=o["default"].module("edit",[]).component("editComponent",{template:e(310),controller:function(n,e,t){var a=(i["default"].database().ref().child("survey"),i["default"].database().ref().child("questions")),o=i["default"].database().ref().child("labels");n.labels=t(o),n.editLabel=function(e){n.labels.$save(e)},n.addLabel=function(e){n.labels.$add(e)},n.removeLabel=function(e){n.labels.$remove(e)},n.questions=t(a),n.questionData={name:"",options:[]},n.options={number:void 0},n.getNumber=function(n){return new Array(n)},n.remove=function(e){n.questions.$remove(e).then(function(n){n.key()==e.$id})},n.addQuestions=function(){n.questions.$add(n.questionData).then(function(){n.questionData={name:"",options:[]}})},n.addOption=function(e){n.questions.map(function(t){t.name===e&&(t.options||(t.options=[],n.questions.$save(t)),t.options.push("click to edit question"),n.questions.$save(t))})},n.saveOption=function(n,e,t){a.child(n.$id).child("options/"+e).set(t)},n.items=["text input","text box","checkbox","radio","rating/scale"],n.status={isopen:!1},n.toggleDropdown=function(e){e.preventDefault(),e.stopPropagation(),n.status.isopen=!n.status.isopen}}}).name;exports["default"]=l},310:function(n,exports){n.exports='<div class="container">\r\n    <h2 class="modal-title">Survey Questions</h2>\r\n    <hr>\r\n    <div class="panel panel-default" ng-repeat="question in questions track by $index">\r\n        <div class="panel-heading" editable-text="question.name" onaftersave="questions.$save(question)">Question: "{{ question.name }}"<a class="pull-right" ng-click="remove(question)"><span class="glyphicon glyphicon-remove"></span></a></div>\r\n        <div class="panel-body">\r\n            <span uib-dropdown on-toggle="toggled(open)">\r\n          <a href uib-dropdown-toggle>\r\n            type: {{ question.type }}\r\n          </a>\r\n          <ul class="dropdown-menu" uib-dropdown-menu>\r\n            <li ng-repeat="choice in items">\r\n              <a href ng-click="question.type = choice; questions.$save(question); question.options = []; questions.$save(question)">{{choice}}</a>\r\n            </li>\r\n          </ul>\r\n        </span>\r\n            <font ng-if="qustion.scale"> scale: {{ question.scale }}</font>\r\n        </div>\r\n        <div class="panel-footer" ng-if="question.type === \'radio\' || question.type === \'checkbox\'">Options:<a class="pull-right" ng-click="addOption(question.name)"><span class="glyphicon glyphicon-plus"></span></a></div>\r\n        <ul class="list-group" ng-if="question.type === \'radio\' || question.type === \'checkbox\'">\r\n            <li class="list-group-item" ng-repeat="option in question.options track by $index" editable-text="option" onaftersave="saveOption(question, $index, $data)">{{ $index + 1 }}: {{ option }}</li>\r\n        </ul>\r\n    </div>\r\n    <hr>\r\n    <h2 class="modal-title">Label Answers</h2>\r\n    <hr>\r\n    <div class="input-group">\r\n        <input type="text" class="form-control" placeholder="Add label..." ng-model="label.title">\r\n        <span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="addLabel(label)">add</button></span>\r\n    </div>\r\n    <!-- /input-group -->\r\n    <br>\r\n    <div class="panel panel-default">\r\n        <ul class="list-group">\r\n            <li class="list-group-item" ng-repeat="label in labels">{{ $index }}: {{ label.title }}<a class="pull-right" ng-click="removeLabel(label)"><span class="glyphicon glyphicon-remove"></span></a></li>\r\n        </ul>\r\n    </div>\r\n    <hr>\r\n    <h2 class="modal-title">Result Pictures</h2>\r\n    <hr>\r\n    <div class="media" ng-repeat="label in labels">\r\n        <div class="media-left media-middle">\r\n            <a href="#">\r\n                <img class="media-object" height="100" width="100" ng-src="{{ label.img || \'http://rs901.pbsrc.com/albums/ac215/KenkoKimche/Random%20Gif/Pyong%20Gifs/Wave.gif~c200\' }}" alt="...">\r\n            </a>\r\n        </div>\r\n        <div class="media-body">\r\n            <h4 class="media-heading">{{ label.title }}</h4>\r\n            <div class="input-group">\r\n                <input type="text" class="form-control" placeholder="Add image src..." ng-model="label.img">\r\n                <span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="editLabel(label)">set</button></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <h2 class="modal-title">Add Questions</h2>\r\n    <hr>\r\n    <!-- input box -->\r\n    <div class="form-group">\r\n        <label>Question Name</label>\r\n        <input type="text" class="form-control" name="name" ng-model="questionData.name">\r\n    </div>\r\n    <fieldset>\r\n        <label>Question Type</label>\r\n        <div class="radio">\r\n            <label>\r\n                <input type="radio" name="optionsRadios" value="text" ng-model="questionData.type">text input (short answer)\r\n            </label>\r\n        </div>\r\n        <div class="radio">\r\n            <label>\r\n                <input type="radio" name="optionsRadios" value="textbox" ng-model="questionData.type">text box (long answer)\r\n            </label>\r\n        </div>\r\n        <div class="radio">\r\n            <label>\r\n                <input type="radio" name="optionsRadios" value="checkbox" ng-model="questionData.type">checkboxes (multiple choices/multiple answers)\r\n            </label>\r\n        </div>\r\n        <div class="form-group" ng-if="questionData.type == \'checkbox\'">\r\n            <label>number of options</label>\r\n            <input type="number" class="form-control" placeholder="from 0 to ?" ng-model="options.number" min="2">\r\n        </div>\r\n        <div class="form-group" ng-repeat="i in getNumber(options.number) track by $index" ng-if="questionData.type == \'checkbox\'">\r\n            <label>option {{ $index + 1 }} name</label>\r\n            <input type="text" class="form-control" placeholder="option name" ng-model="questionData.options[$index]">\r\n        </div>\r\n        <div class="radio">\r\n            <label>\r\n                <input type="radio" name="optionsRadios" value="radio" ng-model="questionData.type">radio buttions (multiple choices/single answer)\r\n            </label>\r\n        </div>\r\n        <div class="form-group" ng-if="questionData.type == \'radio\'">\r\n            <label>number of options</label>\r\n            <input type="number" class="form-control" placeholder="from 0 to ?" ng-model="options.number" min="2">\r\n        </div>\r\n        <div class="form-group" ng-repeat="i in getNumber(options.number) track by $index" ng-if="questionData.type == \'radio\' && questionData.options">\r\n            <label>option {{ $index + 1 }} name</label>\r\n            <input type="text" class="form-control" placeholder="option name" ng-model="questionData.options[$index]">\r\n        </div>\r\n        <div class="radio">\r\n            <label>\r\n                <input type="radio" name="optionsRadios" value="rating" ng-model="questionData.type">rating/scale\r\n            </label>\r\n        </div>\r\n        <div class="form-group" ng-if="questionData.type == \'rating\'">\r\n            <label>rating scale</label>\r\n            <input type="number" class="form-control" placeholder="from 0 to ?" ng-model="questionData.scale" min="0">\r\n        </div>\r\n    </fieldset>\r\n    <button type="button" class="btn btn-primary" id="addButton" data-loading-text="Sending..." ng-click="addQuestions()">Add question</button>\r\n</div>\r\n'},311:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=o["default"].module("login",[]).component("loginComponent",{template:e(312),controller:function(n,e,t){n.loginText="Sign in",n.login=function(){console.log(n.email),console.log(n.password),n.authData=null,n.error=null,n.loginText="Loading...",t.$signInWithEmailAndPassword(n.email,n.password).then(function(t){n.authData=t,n.loginText="Sign in successful",setTimeout(e.go("edit"),700)})["catch"](function(e){n.error=e,n.loginText="Sign in"})}}}).name;exports["default"]=r},312:function(n,exports){n.exports='<div class="container">\r\n  <h2>Login Page</h2>\r\n\r\n  <hr>\r\n\r\n  <form class="form-horizontal" role="form">\r\n      <div class="form-group">\r\n          <label for="inputEmail" class="col-lg-2 control-label">Email</label>\r\n          <div class="col-lg-4">\r\n              <input type="email" class="form-control" id="inputEmail" placeholder="Email" ng-model="email">\r\n          </div>\r\n      </div>\r\n      <div class="form-group">\r\n          <label for="inputPassword" class="col-lg-2 control-label">Password</label>\r\n          <div class="col-lg-4">\r\n              <input type="password" class="form-control" id="inputPassword" placeholder="Password" ng-model="password">\r\n          </div>\r\n      </div>\r\n      <div class="form-group">\r\n          <div class="col-lg-offset-2 col-lg-10">\r\n              <button type="submit" class="btn btn-default" id="loginButton" ng-click="login()">{{ loginText }}</button>\r\n          </div>\r\n      </div>\r\n      <p ng-show="error" class="alert alert-warning">{{error}}</p>\r\n  </form>\r\n</div>\r\n'},313:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=o["default"].module("main",["ui.bootstrap","nav","survey"]).component("mainComponent",{template:e(314),controller:function(n,t){n.successInfo=!1,n.takeSurvey=function(){var n=t.open({animation:!0,ariaLabelledBy:"survey",ariaDescribedBy:"modal-body",template:e(315),controller:"surveyController",size:"lg"});n.result.then(function(){},function(){})}}}).name;exports["default"]=r},314:function(n,exports){n.exports='<div class="container">\r\n    <h2>AngularFire Survey</h2>\r\n\r\n    <hr>\r\n\r\n    <ul>\r\n        <li>An open source online survey tool.</li>\r\n        <li>Based on AngularFire, AngularJS, Bootstrap and Firebase.</li>\r\n        <li>Easy to set up without worrying about server code.</li>\r\n    </ul>\r\n\r\n    <hr>\r\n\r\n    <button type="button" class="btn btn-primary pull-right" ng-click="takeSurvey()" ng-hide="successInfo">Take the Survey</button>\r\n\r\n    <!-- success information/alert -->\r\n    <div class="alert alert-success alert-dismissable" ng-show="successInfo">\r\n        <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>\r\n        <strong>Thank you for your feedback!</strong>.\r\n    </div>\r\n</div>\r\n'},315:function(n,exports){n.exports='<!-- survey detail modal dialog -->\r\n<div class="modal-content">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\r\n        <h4 class="modal-title">Survey Questions</h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <label>Enter your name</label>\r\n        <input type="text" class="form-control" ng-model="formData.applicant">\r\n        <hr>\r\n        <form class="" ng-repeat="question in questions" ng-init="questionIndex = $index">\r\n            <div class="form-group">\r\n                <label>{{ $index + 1 }}: {{ question.name }}</label>\r\n                <input type="text" class="form-control" name="{{ question.name }}" ng-model="formData[question.name]" ng-if="question.type == \'text\'">\r\n                <textarea class="form-control" rows="2" name="{{ question.name }}" ng-model="formData[question.name]" ng-if="question.type == \'textbox\'"></textarea>\r\n                <div ng-repeat="option in question.options" ng-if="question.options && question.type == \'checkbox\'">\r\n                    <label class="checkbox-inline">\r\n                        <input type="checkbox" id="inlineCheckbox{{ $index }}" name="{{ question.name }}" value="{{ option }}" ng-model="formData[question.name]" ng-true-value="\'{{ option }}\'" ng-false-value="\'nil\'"> {{ option }}\r\n                    </label>\r\n                </div>\r\n                <div ng-repeat="option in question.options" name="{{ question.name }}" ng-if="question.options && question.type == \'radio\'">\r\n                    <label class="checkbox-inline">\r\n                        <input type="radio" id="inlineRadio{{ $index }}" name="{{ question.name }}" value="{{ option }}" ng-model="formData[question.name]" ng-true-value="\'{{ option }}\'"> {{ option }}\r\n                    </label>\r\n                </div>\r\n                <div class="form-group" ng-if="question.type == \'rating\'">\r\n                    <rating ng-model="formData[question.name]" max="{{ question.scale }}" readonly="isReadonly" on-hover="hoveringOver(value)" on-leave="overStar = null" titles="[\'one\',\'two\',\'three\']"></rating>\r\n                </div>\r\n            </div>\r\n        </form>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>\r\n            <button type="button" class="btn btn-primary" id="addButton" ng-click="addSurvey()">{{ buttonText }}</button>\r\n        </div>\r\n        <!-- /.modal-content -->\r\n    </div>\r\n    <!-- /.modal-dialog -->\r\n</div>\r\n<!-- /.modal -->\r\n'},316:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=o["default"].module("nav",["firebase"]).component("navComponent",{template:e(317),controller:function(n,e){n.authData=e.$getAuth(),e.$onAuthStateChanged(function(e){e?n.authData=e.uid:n.authData=null}),n.logout=function(){e.$signOut()}}}).name;exports["default"]=r},317:function(n,exports){n.exports='<!-- Navigation -->\r\n<nav class="navbar navbar-default" role="navigation">\r\n   <div class="container">\r\n      <div class="navbar-header">\r\n         <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">\r\n            <span class="sr-only">Toggle navigation</span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n            <span class="icon-bar"></span>\r\n         </button>\r\n         <a class="navbar-brand" href="#/">AngularFire Survey</a>\r\n      </div>\r\n\r\n       <ul class="nav navbar-nav">\r\n          <li ng-show="authData"><a href="#/edit">Edit the Survey</a>\r\n          </li>\r\n<!--\r\n          <li ng-show="authData"><a href="#/result" disabled>Survey Result</a>\r\n          </li>\r\n-->\r\n       </ul>\r\n       <ul class="nav navbar-nav navbar-right">\r\n          <li ng-hide="authData" class="active"><a href="#/login">Login</a>\r\n          </li>\r\n          <li ng-show="authData"><a href ng-click="logout()">Logout</a>\r\n          </li>\r\n       </ul>\r\n      <!-- /.navbar-collapse -->\r\n   </div>\r\n   <!-- /.container -->\r\n</nav>\r\n'},318:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=e(319),i=(t(r),e(304)),l=t(i),s=o["default"].module("result",[]).component("resultComponent",{template:e(320),controller:function(n,e){var t=l["default"].database().ref().child("survey"),a=l["default"].database().ref().child("questions"),o=l["default"].database().ref().child("labels");n.labels=e(o),n.allResults=e(t),n.headings=e(a),n.user=localStorage.getItem("lastUser");var r=function(n,e){var t=function(t){for(var a in e){var o=e[a];o.name===t&&o.options.forEach(function(e){e.name===n[t]&&(e.checked=!0)})}};for(var a in n)t(a)},i=function(n){var e={};for(var t in n){var a=n[t].options;"undefined"!=typeof a&&a.forEach(function(n,t){n.checked&&(e[t]?e[t]+=1:e[t]=1)})}return e},s=function(n,e){var t={};for(var a in n){var o=(n[a]/e*100).toFixed(2);t[a]=o}return t},u=function(e){var t=0,a="",o="";for(var r in e){var i=e[r];i>t&&(t=i,a=r,o=n.labels[r].title)}return{highest:t,highestKey:a,highestLabel:o}};n.headings.$loaded().then(function(){var e={};for(var t in n.headings)"function"!=typeof n.headings[t]&&(e[t]=n.headings[t],delete e[t].$id,delete e[t].$priority,e[t].options=e[t].options.map(function(n){return{name:n,checked:!1}}));n.allResults.$loaded().then(function(){n.allResults.forEach(function(t){t.applicant===n.user&&(delete t.applicant,delete t.timestamp,delete t.$id,delete t.$priority,r(t,e),n.results=e,n.tally=i(e),n.percentages=s(n.tally,n.headings.length),n.highest=u(n.percentages))})})}),n.showIndex=function(n){for(var e=0;e<n.options.length;e+=1)if(n.options[e].checked)return e}}}).name;exports["default"]=s},319:function(n,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={apiKey:"AIzaSyBxgACRnMbApl7nH5uApDQrSW5vjy4r9Tw",authDomain:"torid-fire-2372.firebaseapp.com",databaseURL:"https://torid-fire-2372.firebaseio.com",storageBucket:"torid-fire-2372.appspot.com"};exports["default"]=e},320:function(n,exports){n.exports='<div class="container">\r\n  <h2>Survey Result</h2>\r\n  <hr>\r\n  <h3>You got... {{ labels[highest.highestKey].title }}</h3>\r\n  <img ng-src="{{ labels[highest.highestKey].img }}" />\r\n\r\n  <!-- <table class="table table-hover">\r\n      <tr>\r\n          <th ng-repeat="header in headings">{{ header.name }}</th>\r\n      </tr>\r\n      <tr ng-repeat="result in allResults | orderBy: \'-timestamp\'">\r\n          <td ng-repeat="header in headings">{{ header.options.indexOf(result[header.name]) }} : {{result[header.name]}}</td>\r\n      </tr>\r\n  </table> -->\r\n\r\n  <h1>{{ user }}\'s answers:</h1>\r\n\r\n  <table class="table table-hover">\r\n      <tr>\r\n          <th ng-repeat="label in labels">{{ label.title }}</th>\r\n      </tr>\r\n      <tr>\r\n          <td ng-repeat="(key, val) in percentages">% {{ val }}</td>\r\n      </tr>\r\n  </table>\r\n</div>\r\n'},321:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(322),o=(t(a),e(299)),r=t(o),i=e(304),l=t(i),s=e(319),u=(t(s),r["default"].module("survey",[]).controller("surveyController",["$scope","$state","$firebaseArray","$uibModalInstance",function(n,e,t,a){var o=l["default"].database().ref().child("survey"),r=l["default"].database().ref().child("questions");n.buttonText="Send results",n.questions=t(r),n.surveys=t(o),n.timestamp=(new Date).getTime(),n.formData={timestamp:n.timestamp},n.updateRating=function(e){n.formData.rating=e},n.addSurvey=function(){n.formData?(localStorage.setItem("lastUser",n.formData.applicant),n.buttonText="loading...",n.surveys.$add(n.formData).then(function(){n.successInfo=!0,n.buttonText="Send result",setTimeout(n.ok,300)})):alert("Please complete all questions before submitting.")},n.ok=function(){a.close(),e.go("result")},n.cancel=function(){a.dismiss("cancel")}}]).name);exports["default"]=u},323:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=(t(a),function(n,e){n.state("login",{url:"/login",component:"loginComponent"}),n.state("edit",{url:"/edit",component:"editComponent"}),n.state("main",{url:"/main",component:"mainComponent"}),n.state("result",{url:"/result",component:"resultComponent"}),e.otherwise("main")});exports["default"]=o},324:function(n,exports,e){"use strict";function t(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(exports,"__esModule",{value:!0});var a=e(299),o=t(a),r=e(319),i=t(r),l=e(304),s=t(l),u=o["default"].module("services",["firebase"]).factory("Auth",["$firebaseAuth",function(n){return s["default"].initializeApp(i["default"]),n()}]).name;exports["default"]=u}});
//# sourceMappingURL=app.bundle.js.map